{% extends 'base.html' %}

{% block title %}Organizer - Event Finder{% endblock %}

{% block content %}
<div class="container">
    <h1>Organizer Dashboard</h1>
    <p>Welcome to your dashboard! Here you can manage your events effectively.</p>
    
    
    <!--                   
                    flash success or failure messege
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div>
            {% for category, message in messages %}
            <div class="alert alert-success" role="alert">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    {% endwith %}
    -->
    
    




    <div class="row">
        <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h5 class="card-title">Add Event</h5>
                    <p class="card-text">Create a new event to be featured on Event Finder.</p>
                    <a href="/add-event" class="btn btn-primary">Add Event</a> <!-- Link to add event form -->
                </div>
            </div>
        </div>

        <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h5 class="card-title">My Events</h5>
                    <p class="card-text">View and manage all your created events.</p>
                    <a href="/my_event" class="btn btn-primary">View My Events</a> <!-- Link to view user's events -->
                </div>
            </div>
        </div>

        <!-- <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h5 class="card-title">Event Analytics</h5>
                    <p class="card-text">Get insights on the performance of your events.</p>
                    <a href="/event-analytics" class="btn btn-primary">View Analytics</a> 
                </div>
            </div>
        </div> -->

        <!-- <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h5 class="card-title">Manage Registrations</h5>
                    <p class="card-text">See who has registered for your events and manage participants.</p>
                    <a href="/manage-registrations" class="btn btn-primary">Manage Registrations</a> 
                </div>
            </div>
        </div> -->

        <!-- <div class="col-md-4 mb-4">
            <div class="card h-100 text-center">
                <div class="card-body">
                    <h5 class="card-title">Promote Event</h5>
                    <p class="card-text">Promote your events to reach a larger audience.</p>
                    <a href="/promote-event" class="btn btn-primary">Promote</a> <!-- Link to promote event -->
                </div>
            </div>
        </div> -->
    </div>

 
    <!--With modal display-->
    <div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="feedbackModalLabel">Notification</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <p id="modalMessage"></p> <!-- Dynamic message content -->
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>


</div>
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <script>
            // Trigger the modal when the page loads
            document.addEventListener('DOMContentLoaded', function() {
                // Get the flashed message
                var message = "{{ messages[0] }}";  // Get the first flashed message (if any)
                document.getElementById('modalMessage').textContent = message;

                // Show the modal
                let modal = new bootstrap.Modal(document.getElementById('feedbackModal'));
                modal.show();
            });
        </script>
    {% endif %}
{% endwith %}
<!--logic javascript
{% with messages = get_flashed_messages() %}
    {% if messages %}
        <script>
            // Trigger the modal when the page loads
            document.addEventListener('DOMContentLoaded', function() {
                // Set the modal's message
                document.getElementById('modalMessage').textContent = "{{ messages[0] }}";

                // Show the modal
                let modal = new bootstrap.Modal(document.getElementById('feedbackModal'));
                modal.show();
            });
        </script>
    {% endif %}
{% endwith %}
-->
{% endblock %}
