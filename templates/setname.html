{% extends 'base.html' %}

{% block title %}Event Finder{% endblock %}

{% block content %}
<div class="container my-5">
    <h2 class="text-center mb-4">Please Provide Your Information</h2>

    <form method="POST" action="/submitName">
        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <!-- First Name Input -->
        <div class="mb-3">
            <label for="firstname" class="form-label">First Name:</label>
            <input type="text" id="firstname" name="firstname" class="form-control" required placeholder="Enter your first name">
        </div>

        <!-- Last Name Input -->
        <div class="mb-3">
            <label for="lastname" class="form-label">Last Name:</label>
            <input type="text" id="lastname" name="lastname" class="form-control" required placeholder="Enter your last name">
        </div>

        <!-- Are you an organizer? Input (Yes/No) -->
        <div class="mb-3">
            <label class="form-label">Are you an organizer?</label><br>
            <div class="form-check form-check-inline">
                <input type="radio" id="yes" name="organizer" value="yes" class="form-check-input" onclick="toggleOrganizerFields(true)" required>
                <label for="yes" class="form-check-label">Yes</label>
            </div>
            <div class="form-check form-check-inline">
                <input type="radio" id="no" name="organizer" value="no" class="form-check-input" onclick="toggleOrganizerFields(false)" required>
                <label for="no" class="form-check-label">No</label>
            </div>
        </div>

        <!-- Additional Fields for Organizers (Hidden by Default) -->
        <div id="organizerFields" style="display: none;">
            <div class="mb-3">
                <label for="business_name" class="form-label">Business Name:</label>
                <input type="text" id="business_name" name="business_name" class="form-control" placeholder="Enter your business name">
            </div>

            <div class="mb-3">
                <label for="business_address" class="form-label">Business Address:</label>
                <input type="text" id="business_address" name="business_address" class="form-control" placeholder="Enter your business address">
            </div>

            <div class="mb-3">
                <label for="business_phone" class="form-label">Business Phone Number:</label>
                <input type="text" id="business_phone" name="business_phone" class="form-control" placeholder="Enter your business phone number">
            </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
            <button type="submit" class="btn btn-primary btn-lg">Continue</button>
        </div>
    </form>
</div>

<script>
    // Function to toggle the visibility of organizer fields based on selection
    function toggleOrganizerFields(isOrganizer) {
        const organizerFields = document.getElementById("organizerFields");
        if (isOrganizer) {
            organizerFields.style.display = "block";  // Show additional fields if the user is an organizer
        } else {
            organizerFields.style.display = "none";  // Hide additional fields if the user is not an organizer
        }
    }
</script>

{% endblock %}
